## Что это
Приложение чата, включающее в себя клиент и сервер. Клиенты могут общаться друг с другом через сервер. Все сообщения шифруются с помощью собственной имплементации алгоритма RSA (стандартная библиотека использовалась лишь для операций над числами с длинной арифметикой - `big.Int`).

## Как это
- При первом подключении клиент запрашивает у сервера ключи RSA для дальнейшего общения внутри сети. Также клиент резервирует для себя username, под которым хочет вести дальнейшее общение. Эта стадия рукопожатия происходит с помощью самостоятельно имплементированного алгоритма ECDH (Elliptic Curve Diffie-Hellman): все ключи шифруются и передаются по защищённому каналу.
- При обращении к другому клиенту (когда вы пишете ему сообщение) для шифрования информации используется его публичный RSA-ключ. Получив ваше сообщение, другой пользователь может его расшифровать только лишь приватным ключом, выданным сервером в паре с данным публичным RSA-ключом.
- На сервере генерируются все ключи, но хранятся только публичные. Для того, чтобы поговорить с другим пользователем, клиент сначала получает от сервера публичный ключ другого пользователя, и с помощью него шифрует своё сообщение.
- Всё взаимодействие сервера с клиентами происходит через gRPC. Шифрование данных релаизовано поверх этого протокола.

## Зачем это
Мне было прикольно реализовать это самому на языке go.

## Как запустить локально
### Сервер
- Сервер можно запустить в докере. Для этого сначала нужно собрать образ командой `docker build -f ./server/Dockerfile -t crypto-chad-server .`, находясь внутри корня репозитория, а затем командой `docker run -p 9876:9876 crypto-chad-server` запустить его.
- Также сервер можно запустить локально. Для этого достаточно перейти в папку `server` и запустить команду `go run ./cmd/server/main.go`. Обратите внимание, что по умолчанию сервер начнёт слушать соединения по адресу `0.0.0.0:9876`. Это поведение можно контролировать с помощью env переменной `HOST_ADDRESS`. Например, можно задать её равной `localhost:9876` для локального запуска. Либо можно поменять defaultAddr в `server/internal/app/start.go`.
- А можно использовать уже запущенный удалённый сервер по адресу http://5.42.100.122:9876 для быстрого теста. Конфиг с ключами этого сервера хранится в `client/config/local.json`.
### Клиент
- После успешного запуска сервера необходимо дождаться логов с публичными ключами сервера. Их необходимо поместить в файл конфига наподобие того, что находится в `client/config/local.json`.
- Далее необходимо запустить приложение клиента. Сделать это можно например командой (находясь в директории `client`) `go run ./cmd/chat/main.go username config_path`, где username - это имя, под которым вы будете известны в сети, а config_path - путь до конфига с ключами сервера (например `./config/local.json`). По умолчанию, если путь config_path не указан, он будет считать равным `./config.json`. Параметр username обязателен.

## Скринкаст работы чата
https://github.com/user-attachments/assets/58c52a79-3c2e-422a-8868-378c75986d37

## А тесты?
есть (см. `lib`)
